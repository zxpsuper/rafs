!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((n=n||self).Rafs={})}(this,(function(n){"use strict";function e(n,e){for(var i=0;i<e.length;i++){var t=e[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}for(var i=["webkit","moz"],t=0;t<i.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[i[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[t]+"CancelAnimationFrame"]||window[i[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){return window.setTimeout((function(){n()}),1e3/60)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)});var o=function(){function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.pool=[],this.rafId=null,this.animation()}var i,t,o;return i=n,(t=[{key:"animation",value:function(){var n=this;this.rafId=window.requestAnimationFrame((function(){n.pool.forEach((function(n){n[Object.keys(n)[0]]()})),n.animation()}))}},{key:"add",value:function(n){var e=function(n,e){for(var i=0;i<n.length;i++)if(e(n[i],i,n))return n[i];return null}(this.pool,(function(e){return e[Object.keys(e)[0]]===n}));if(e)return Object.keys(e)[0];var i,t,o,a=function(){function n(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()}();return this.pool.push((o=n,(t=a)in(i={})?Object.defineProperty(i,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[t]=o,i)),a}},{key:"cancel",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n?this.pool=this.pool.filter((function(e){return!e[n]})):window.cancelAnimationFrame(this.rafId)}}])&&e(i.prototype,t),o&&e(i,o),n}(),a=new o,r=a.add.bind(a),u=a.cancel.bind(a);n.cancelAnimationFrame=u,n.default=o,n.requestAnimationFrame=r,Object.defineProperty(n,"__esModule",{value:!0})}));
